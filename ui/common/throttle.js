export default function throttle(delay, cb) {
    let timer, lastExec = 0;
    return function (...args) {
        const self = this;
        const elapsed = performance.now() - lastExec;
        function exec() {
            timer = undefined;
            lastExec = performance.now();
            cb.apply(self, args);
        }
        if (timer)
            clearTimeout(timer);
        if (elapsed > delay)
            exec();
        else
            timer = window.setTimeout(exec, delay - elapsed);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhyb3R0bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzcmMvdGhyb3R0bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE9BQU8sVUFBVSxRQUFRLENBQUMsS0FBYSxFQUFFLEVBQTRCO0lBRTFFLElBQUksS0FBeUIsRUFDN0IsUUFBUSxHQUFHLENBQUMsQ0FBQztJQUViLE9BQU8sVUFBb0IsR0FBRyxJQUFXO1FBQ3ZDLE1BQU0sSUFBSSxHQUFRLElBQUksQ0FBQztRQUN2QixNQUFNLE9BQU8sR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFLEdBQUcsUUFBUSxDQUFDO1FBQzdDLFNBQVMsSUFBSTtZQUNYLEtBQUssR0FBRyxTQUFTLENBQUM7WUFDbEIsUUFBUSxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUM3QixFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2QixDQUFDO1FBRUQsSUFBSSxLQUFLO1lBQUUsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRS9CLElBQUksT0FBTyxHQUFHLEtBQUs7WUFBRSxJQUFJLEVBQUUsQ0FBQzs7WUFDdkIsS0FBSyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLEtBQUssR0FBRyxPQUFPLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUE7QUFFSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyb3R0bGUoZGVsYXk6IG51bWJlciwgY2I6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCB7XG4gIFxuICBsZXQgdGltZXI6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgbGFzdEV4ZWMgPSAwO1xuXG4gIHJldHVybiBmdW5jdGlvbih0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgY29uc3Qgc2VsZjogYW55ID0gdGhpcztcbiAgICBjb25zdCBlbGFwc2VkID0gcGVyZm9ybWFuY2Uubm93KCkgLSBsYXN0RXhlYztcbiAgICBmdW5jdGlvbiBleGVjKCkge1xuICAgICAgdGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICBsYXN0RXhlYyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY2IuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuXG4gICAgaWYgKHRpbWVyKSBjbGVhclRpbWVvdXQodGltZXIpO1xuXG4gICAgaWYgKGVsYXBzZWQgPiBkZWxheSkgZXhlYygpO1xuICAgIGVsc2UgdGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChleGVjLCBkZWxheSAtIGVsYXBzZWQpO1xuICB9XG5cbn1cbiJdfQ==